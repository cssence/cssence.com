<!DOCTYPE html>
<html lang="en" class="c-code">
<head>
<title>CSS at-rule nesting Test Page</title>
<meta name="description" content="What started with the question whether @supports may live @media, ended up in a test page.">
<link rel="alternate" type="text/html" href="https://codepen.io/cssence/pen/xxpEPmr" title="Code example on codepen.io">
</head>
<body>
<main>
<article>
<header>
<h1>@supports inside @media</h1>
<p>Nesting CSS at-rules.</p>
<p><i>Code</i><br><time>2022-03-22T07:56:50Z</time><br><img src="/2022/css-at-rules-nesting/index.png" alt=""></p>
</header>
<div>
<p>I already knew that it is perfectly fine to place media queries inside <code>@supports</code>, but I wanted to know if it also works the other way around. All my search queries ended up in <em>media query support</em> territory, not what I needed. So instead I opened CodePen and just tried it myself. It works.</p>
<pre><a href="/2022/css-at-rules-nesting/code.supports-inside-media.css">View CSS example.</a></pre>
<p>Since I was already on CodePen, I turned this into <a href="https://codepen.io/cssence/pen/xxpEPmr">a test page.</a> Iâ€™ve only been looking at my small set of test cases in Chromium, Firefox, and Safari, but it is rather safe to conclude that <em>everything</em> works, and we have uniform behavior among modern browsers. It does not stop at nesting different at-rules, you may also nest the same rule, e.g. put another <code>@media</code> inside <code>@media</code>. Although in these cases <a href="https://css-tricks.com/logic-in-css-media-queries/">and/or combinations</a> are also an option. And you do not have to stop at two levels, <a href="https://css-tricks.com/nested-media-queries/">you may go deeper.</a></p>
<p>As there are more <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/At-rule">at-rules in CSS,</a> I will most likely revisit my test page and add more test cases.</p>
<p>So this is the nesting we have today, but proper <a href="https://www.w3.org/TR/css-nesting-1/">native CSS nesting</a> is on the horizon.</p>
</div>
<aside>
<h2 id="comments">Comments</h2>
<p>No comments have been added so far.</p>
</aside>
</article>
</main>
</body>
</html>
